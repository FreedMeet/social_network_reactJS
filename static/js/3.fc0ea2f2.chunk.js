(this["webpackJsonpreact-kabzda-1"]=this["webpackJsonpreact-kabzda-1"]||[]).push([[3],{294:function(e,t,s){"use strict";s.d(t,"a",(function(){return b}));var o=s(3),a=s(34),i=s(35),n=s(37),r=s(36),c=s(0),l=s.n(c),p=s(17),u=s(10),j=s(1),f=function(e){return{isAuth:e.auth.isAuth}},b=function(e){var t=function(t){Object(n.a)(c,t);var s=Object(r.a)(c);function c(){return Object(a.a)(this,c),s.apply(this,arguments)}return Object(i.a)(c,[{key:"render",value:function(){return this.props.isAuth?Object(j.jsx)(e,Object(o.a)({},this.props)):Object(j.jsx)(u.a,{to:"/login"})}}]),c}(l.a.Component);return Object(p.b)(f)(t)}},296:function(e,t,s){e.exports={profilePage:"ProfileInfo_profilePage__8Apdk",profileInfo:"ProfileInfo_profileInfo__2IJgv",profileName:"ProfileInfo_profileName__52BYI",profile:"ProfileInfo_profile__2LHtf",file_upload:"ProfileInfo_file_upload__2OfPh",profileFormFields:"ProfileInfo_profileFormFields__1DjQL"}},297:function(e,t,s){e.exports={posts:"MyPosts_posts__3tZ1c",formPost:"MyPosts_formPost__3MaxQ"}},298:function(e,t,s){e.exports={post:"Post_post__A0EJd"}},299:function(e,t,s){e.exports={profile:"Profile_profile__3dzvr"}},301:function(e,t,s){"use strict";s.r(t);var o=s(3),a=s(34),i=s(35),n=s(37),r=s(36),c=s(0),l=s.n(c),p=s(17),u=s(97),j=s(130),f=s(131),b=s(297),d=s.n(b),h=s(298),O=s.n(h),m=s(1),x=function(e){return Object(m.jsxs)("div",{className:O.a.post,children:[Object(m.jsx)("p",{children:e.message}),Object(m.jsx)("span",{children:e.publishedTime})]})},v=s(50),P=s(48),g=s(22),C=Object(v.a)(10),y=Object(f.a)({form:"myPosts"})((function(e){return Object(m.jsxs)("form",{className:d.a.form,onSubmit:e.handleSubmit,children:[Object(m.jsx)(j.a,{placeholder:"What happens?",name:"newPostText",component:P.b,validate:[v.b,C]}),Object(m.jsx)(g.a,{width:"20%",height:"40px",type:"submit",children:"Add post"})]})})),T=function(e){Object(n.a)(s,e);var t=Object(r.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(i.a)(s,[{key:"shouldComponentUpdate",value:function(e,t){return e!==this.props||t!==this.state}},{key:"render",value:function(){var e=this,t=this.props.PostsData.map((function(e){return Object(m.jsx)(x,{message:e.message,publishedTime:e.publishedTime},e.id)}));return Object(m.jsxs)("div",{className:d.a.posts,children:[Object(m.jsx)("div",{className:d.a.formPost,children:Object(m.jsx)(y,{onSubmit:function(t){e.props.addPostAC(t.newPostText)}})}),t]})}}]),s}(l.a.Component),_=Object(p.b)((function(e){return{PostsData:e.profilePage.PostsData}}),(function(e){return{addPostAC:function(t){e(Object(u.a)(t))}}}))(T),k=s(98),S=s(296),I=s.n(S),N=s(40),w=s(108),A=function(e){var t=Object(c.useState)(!1),s=Object(k.a)(t,2),o=s[0],a=s[1],i=Object(c.useState)(e.status),n=Object(k.a)(i,2),r=n[0],l=n[1];Object(c.useEffect)((function(){l(e.status)}),[e.status]);return Object(m.jsx)("div",{children:o?Object(m.jsx)("input",{onChange:function(e){l(e.currentTarget.value)},onBlur:function(){a(!1),e.updateStatusTC(r)},autoFocus:!0,value:r}):Object(m.jsx)("span",{onDoubleClick:function(){a(!0)},children:e.status||"======"})})},F=Object(f.a)({form:"profileData"})((function(e){var t=e.handleSubmit,s=e.profile;e.error;return Object(m.jsxs)("form",{onSubmit:t,children:[Object(m.jsxs)("div",{className:I.a.profileFormFields,children:[Object(m.jsx)(j.a,{component:P.a,name:"fullName",placeholder:"full name",validate:[]}),Object(m.jsx)(j.a,{component:P.b,name:"lookingForAJobDescription",placeholder:"professional skills",validate:[]}),Object(m.jsx)(j.a,{component:P.b,name:"aboutMe",placeholder:"about me",validate:[]}),Object(m.jsxs)("div",{style:{display:"flex",alignSelf:"flex-start",marginTop:"10px"},children:[Object(m.jsx)("span",{style:{opacity:".7",width:"300px"},children:"Looking for a job:"}),Object(m.jsx)(j.a,{component:P.a,type:"checkbox",name:"lookingForAJob",validate:[]})]}),Object(m.jsxs)("div",{style:{alignSelf:"flex-start"},children:[Object(m.jsx)("h3",{children:"Contacts"}),Object.keys(s.contacts).map((function(e){return Object(m.jsx)(j.a,{style:{marginBottom:"5px"},component:P.a,name:"contacts."+e,placeholder:e,validate:[]},e)}))]})]}),Object(m.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:Object(m.jsx)(g.a,{width:"160px",height:"31px",type:"submit",children:"Save Change"})})]})})),D=function(e){var t=e.contactTitle,s=e.contactValue;return Object(m.jsx)("div",{children:Object(m.jsxs)("p",{children:[t,": ",Object(m.jsx)("b",{children:s})]})})},J=function(e){var t=e.profile;return Object(m.jsxs)("div",{className:I.a.contacts,children:[Object(m.jsxs)("p",{children:["Looking for a job: ",Object(m.jsx)("b",{style:{textTransform:"uppercase"},children:t.lookingForAJob?"Yes":"No"})]}),t.lookingForAJob&&Object(m.jsxs)("p",{children:["Professional skills: ",Object(m.jsx)("b",{children:t.lookingForAJobDescription})]}),Object(m.jsxs)("p",{children:["About me: ",Object(m.jsx)("b",{children:t.aboutMe})]}),Object(m.jsxs)("div",{style:{marginBottom:"-10px"},children:[Object(m.jsx)("h3",{children:"Contacts"}),Object.keys(t.contacts).map((function(e){return Object(m.jsx)(D,{contactTitle:e,contactValue:t.contacts[e]?t.contacts[e]:"==="},e)}))]})]})},M=function(e){var t=e.profile,s=e.savePhotoTC,o=e.updateStatusTC,a=e.status,i=e.isOwner,n=e.saveProfileTC,r=Object(c.useState)(!1),l=Object(k.a)(r,2),p=l[0],u=l[1];if(!t)return Object(m.jsx)(N.a,{});return Object(m.jsxs)("div",{className:I.a.profilePage,children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("img",{alt:"mainPhoto",src:null!=t.photos.small?t.photos.small:w.a}),Object(m.jsxs)("div",{className:I.a.profileInfo,children:[Object(m.jsx)("div",{className:I.a.profileName,children:t.fullName}),Object(m.jsx)("div",{style:{marginTop:"-20px"},children:Object(m.jsx)(A,{status:a,updateStatusTC:o})})]})]}),i&&Object(m.jsxs)("div",{style:{display:"flex"},children:[Object(m.jsxs)("div",{style:{marginRight:"10px"},className:I.a.file_upload,children:[Object(m.jsx)(g.a,{width:"150px",height:"30px",children:"Change photo"}),Object(m.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&s(e.target.files[0])}})]}),!p&&Object(m.jsx)(g.a,{onClick:function(){u(!0)},width:"160px",height:"31px",children:"Edit profile"})]}),p?Object(m.jsx)(F,{onSubmit:function(e){n(e).then(u(!1))},initialValues:t,profile:t}):Object(m.jsx)(J,{profile:t})]})},B=s(299),L=s.n(B),U=function(e){return Object(m.jsxs)("div",{className:L.a.profile,children:[Object(m.jsx)(M,{savePhotoTC:e.savePhotoTC,isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatusTC:e.updateStatusTC,saveProfileTC:e.saveProfileTC}),e.isOwner&&e.profile&&Object(m.jsx)(_,{})]})},z=s(10),E=s(11),V=s(294),Q=function(e){Object(n.a)(s,e);var t=Object(r.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(i.a)(s,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.myUserId),this.props.getProfileTC(e),this.props.getStatusTC(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,s){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(m.jsx)(U,Object(o.a)(Object(o.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatusTC:this.props.updateStatusTC,savePhoto:this.props.savePhotoTC,saveProfileTC:this.props.saveProfileTC}))}}]),s}(l.a.Component);t.default=Object(E.compose)(Object(p.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,myUserId:e.auth.userId}}),{getProfileTC:u.c,getStatusTC:u.d,updateStatusTC:u.g,savePhotoTC:u.e,saveProfileTC:u.f}),z.f,V.a)(Q)}}]);
//# sourceMappingURL=3.fc0ea2f2.chunk.js.map