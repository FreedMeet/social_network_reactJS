(this["webpackJsonpreact-kabzda-1"]=this["webpackJsonpreact-kabzda-1"]||[]).push([[3],{300:function(e,t,s){"use strict";s.d(t,"a",(function(){return l}));var c=s(3),o=s(53),i=(s(0),s(10)),n=s(11),a=s(1),r=function(e){return{isAuth:e.auth.isAuth}};function l(e){return Object(i.b)(r)((function(t){var s=t.isAuth,i=Object(o.a)(t,["isAuth"]);return s?Object(a.jsx)(e,Object(c.a)({},i)):Object(a.jsx)(n.a,{to:"/login"})}))}},301:function(e,t,s){e.exports={profilePage:"ProfileInfo_profilePage__8Apdk",profileInfo:"ProfileInfo_profileInfo__2IJgv",profileName:"ProfileInfo_profileName__52BYI",profile:"ProfileInfo_profile__2LHtf",file_upload:"ProfileInfo_file_upload__2OfPh",profileFormFields:"ProfileInfo_profileFormFields__1DjQL"}},302:function(e,t,s){e.exports={profile:"Profile_profile__3dzvr"}},303:function(e,t,s){e.exports={posts:"MyPosts_posts__3tZ1c",formPost:"MyPosts_formPost__3MaxQ"}},304:function(e,t,s){e.exports={post:"Post_post__A0EJd"}},305:function(e,t,s){"use strict";s.r(t);var c=s(0),o=s.n(c),i=s(103),n=s(301),a=s.n(n),r=s(112),l=s(1),j=function(e){var t=e.status,s=e.updateStatus,o=Object(c.useState)(!1),n=Object(i.a)(o,2),a=n[0],r=n[1],j=Object(c.useState)(t),u=Object(i.a)(j,2),b=u[0],f=u[1];Object(c.useEffect)((function(){f(t)}),[t]);return Object(l.jsx)("div",{children:a?Object(l.jsx)("input",{onChange:function(e){f(e.currentTarget.value)},onBlur:function(){r(!1),s&&s(b)},autoFocus:!0,value:b}):Object(l.jsx)("span",{onDoubleClick:function(){r(!0)},children:t||"======"})})},u=s(20),b=s(134),f=s(32),d=Object(b.a)({form:"profileData"})((function(e){var t=e.handleSubmit,s=e.profile;return Object(l.jsxs)("form",{onSubmit:t,children:[Object(l.jsxs)("div",{className:a.a.profileFormFields,children:[Object(f.c)("full name","fullName",[],f.a),Object(f.c)("professional skills","lookingForAJobDescription",[],f.b),Object(f.c)("about me","aboutMe",[],f.b),Object(l.jsxs)("div",{style:{display:"flex",alignSelf:"flex-start",marginTop:"10px"},children:[Object(l.jsx)("span",{style:{opacity:".7",width:"300px"},children:"Looking for a job:"}),Object(f.c)(void 0,"lookingForAJob",[],f.a,{type:"checkbox"})]}),Object(l.jsxs)("div",{style:{alignSelf:"flex-start"},children:[Object(l.jsx)("h3",{children:"Contacts"}),Object.keys(s.contacts).map((function(e){return Object(f.c)(e,"contacts."+e,[],f.a,{key:e,style:{marginBottom:"5px"}})}))]})]}),Object(l.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:Object(l.jsx)(u.a,{width:"160px",height:"31px",children:"Save Change"})})]})})),p=function(e){var t=e.contactTitle,s=e.contactValue;return Object(l.jsx)("div",{children:Object(l.jsxs)("p",{children:[t,": ",Object(l.jsx)("b",{children:s})]})})},O=function(e){var t=e.profile;return Object(l.jsxs)("div",{children:[Object(l.jsxs)("p",{children:["Looking for a job: ",Object(l.jsx)("b",{style:{textTransform:"uppercase"},children:t.lookingForAJob?"Yes":"No"})]}),t.lookingForAJob&&Object(l.jsxs)("p",{children:["Professional skills: ",Object(l.jsx)("b",{children:t.lookingForAJobDescription})]}),Object(l.jsxs)("p",{children:["About me: ",Object(l.jsx)("b",{children:t.aboutMe})]}),Object(l.jsxs)("div",{style:{marginBottom:"-10px"},children:[Object(l.jsx)("h3",{children:"Contacts"}),Object.keys(t.contacts).map((function(e){return Object(l.jsx)(p,{contactTitle:e,contactValue:t.contacts[e]?t.contacts[e]:"==="},e)}))]})]})},h=s(42),x=function(e){var t=e.profile,s=e.status,o=e.isOwner,n=e.savePhoto,b=e.changeProfile,f=e.updateStatus,p=Object(c.useState)(!1),x=Object(i.a)(p,2),m=x[0],v=x[1];return t?Object(l.jsxs)("div",{className:a.a.profilePage,children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("img",{alt:"mainPhoto",src:null!=t.photos.small?t.photos.small:r.a}),Object(l.jsxs)("div",{className:a.a.profileInfo,children:[Object(l.jsx)("div",{className:a.a.profileName,children:t.fullName}),Object(l.jsx)("div",{style:{marginTop:"-20px"},children:Object(l.jsx)(j,{updateStatus:f,status:s})})]})]}),o&&Object(l.jsxs)("div",{style:{display:"flex"},children:[Object(l.jsxs)("div",{style:{marginRight:"10px"},className:a.a.file_upload,children:[Object(l.jsx)(u.a,{width:"150px",height:"30px",children:"Change photo"}),Object(l.jsx)("input",{type:"file",onChange:function(e){var t;(null===(t=e.target.files)||void 0===t?void 0:t.length)&&n(e.target.files[0])}})]}),!m&&Object(l.jsx)(u.a,{onClick:function(){v(!0)},width:"160px",height:"31px",children:"Edit profile"})]}),m?Object(l.jsx)(d,{onSubmit:function(e){b(e),v(!1)},initialValues:t,profile:t}):Object(l.jsx)(O,{profile:t})]}):Object(l.jsx)(h.a,{})},m=s(302),v=s.n(m),g=s(303),P=s.n(g),_=s(304),k=s.n(_),y=function(e){var t=e.message,s=e.publishedTime;return Object(l.jsxs)("div",{className:k.a.post,children:[Object(l.jsx)("p",{children:t}),Object(l.jsx)("span",{children:s})]})},N=s(10),w=s(54),S=Object(b.a)({form:"myPosts"})((function(e){var t=e.handleSubmit;return Object(l.jsxs)("form",{onSubmit:t,children:[Object(f.c)("What happens?","newPostText",[w.b],f.b),Object(l.jsx)(u.a,{width:"20%",height:"40px",children:"Add post"})]})})),A=o.a.memo((function(e){var t=e.addNewPost,s=Object(N.d)((function(e){return e.profilePage.PostsData})).map((function(e){return Object(l.jsx)(y,{message:e.message,publishedTime:e.publishedTime},e.id)}));return Object(l.jsxs)("div",{className:P.a.posts,children:[Object(l.jsx)("div",{className:P.a.formPost,children:Object(l.jsx)(S,{onSubmit:function(e){t(e.newPostText)}})}),s]})})),C=function(e){var t=e.isOwner,s=e.profile,c=e.status,o=e.addNewPost,i=e.savePhoto,n=e.changeProfile,a=e.updateStatus;return s?Object(l.jsxs)("div",{className:v.a.profile,children:[Object(l.jsx)(x,{isOwner:t,profile:s,status:c,savePhoto:i,changeProfile:n,updateStatus:a}),t&&s&&Object(l.jsx)(A,{addNewPost:o})]}):Object(l.jsx)(h.a,{})},I=s(136),F=s(11),T=s(13),J=s(300);t.default=Object(T.compose)(F.g,J.a)((function(e){var t=e.match.params.userId,s=Object(N.d)((function(e){return e.profilePage.profile})),o=Object(N.d)((function(e){return e.profilePage.status})),i=Object(N.d)((function(e){return e.auth.userId})),n=Object(N.c)(),a=Object(c.useCallback)((function(){var e=t;e||(e=i),n(Object(I.c)(e)),n(Object(I.d)(e))}),[t,n,i]);Object(c.useEffect)((function(){a()}),[t,a]);var r=Object(c.useCallback)((function(e){n(I.a.addPost(e))}),[n]),j=Object(c.useCallback)((function(e){n(Object(I.e)(e))}),[n]),u=Object(c.useCallback)((function(e){n(Object(I.f)(e))}),[n]),b=Object(c.useCallback)((function(e){n(Object(I.g)(e))}),[n]);return Object(l.jsx)(C,{isOwner:!t,profile:s,status:o,addNewPost:r,savePhoto:j,changeProfile:u,updateStatus:b})}))}}]);
//# sourceMappingURL=3.87e9215e.chunk.js.map