(this["webpackJsonpreact-kabzda-1"]=this["webpackJsonpreact-kabzda-1"]||[]).push([[5],{305:function(e,t,c){"use strict";c.d(t,"a",(function(){return i}));var s=c(3),r=c(52),a=(c(0),c(8)),n=c(11),o=c(1),u=function(e){return{isAuth:e.auth.isAuth}};function i(e){return Object(a.b)(u)((function(t){var c=t.isAuth,a=Object(r.a)(t,["isAuth"]);return c?Object(o.jsx)(e,Object(s.a)({},a)):Object(o.jsx)(n.a,{to:"/login"})}))}},311:function(e,t,c){e.exports={form:"ChatPageForm_form__3bpCY",messageBlock:"ChatPageForm_messageBlock__1oJaD",messageHeader:"ChatPageForm_messageHeader__1i2BD",messageBody:"ChatPageForm_messageBody__CZ6er",message:"ChatPageForm_message__3iDxG"}},312:function(e,t,c){"use strict";c.r(t);var s=c(104),r=c(0),a=c.n(r),n=c(8),o=c(138),u=c(20),i=c(311),j=c.n(i),b=c(14),l=c(305),d=c(1),h=function(){var e=Object(n.c)(),t=Object(n.d)((function(e){return e.chat.status}));return Object(r.useEffect)((function(){return e(Object(o.c)()),function(){e(Object(o.d)())}}),[]),Object(d.jsxs)("div",{children:["error"===t&&Object(d.jsx)("div",{children:"Some error occurred. Please refresh the page"}),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(O,{}),Object(d.jsx)(f,{})]})]})},O=function(){var e=Object(n.d)((function(e){return e.chat.messages})),t=Object(r.useRef)(null),c=Object(r.useState)(!0),a=Object(s.a)(c,2),o=a[0],u=a[1];return Object(r.useEffect)((function(){var e;o&&(null===(e=t.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e]),Object(d.jsxs)("div",{className:j.a.messageBlock,onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<300?!o&&u(!0):o&&u(!1)},children:[e.map((function(e){return Object(d.jsx)(m,{message:e},e.id)})),Object(d.jsx)("div",{ref:t})]})},m=a.a.memo((function(e){var t=e.message,c=Object(n.d)((function(e){return e.auth.login}));return Object(d.jsxs)("div",{className:j.a.message,children:[Object(d.jsxs)("div",{className:j.a.messageHeader,children:[Object(d.jsx)("img",{src:t.photo,alt:""}),t.userName!==c?Object(d.jsx)("span",{children:t.userName}):Object(d.jsxs)("span",{children:[t.userName,Object(d.jsx)("b",{children:"(You)"})]})]}),Object(d.jsx)("p",{className:j.a.messageBody,children:t.message}),Object(d.jsx)("hr",{})]})})),f=function(){var e=Object(r.useState)(""),t=Object(s.a)(e,2),c=t[0],a=t[1],i=Object(n.c)(),b=Object(n.d)((function(e){return e.chat.status}));return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:j.a.form,children:[Object(d.jsx)("textarea",{placeholder:"Your message...",onChange:function(e){return a(e.currentTarget.value)},value:c}),Object(d.jsx)(u.a,{width:"100px",height:"100px",disabled:"ready"!==b,onClick:function(){c&&(i(Object(o.b)(c)),a(""))},children:"Send"})]})})};t.default=Object(b.compose)(l.a)((function(){return Object(d.jsx)(h,{})}))}}]);
//# sourceMappingURL=5.79bd3fbb.chunk.js.map