(this["webpackJsonpreact-kabzda-1"]=this["webpackJsonpreact-kabzda-1"]||[]).push([[3],{294:function(t,e,s){"use strict";s.d(e,"a",(function(){return h}));var a=s(3),r=s(34),n=s(35),i=s(37),o=s(36),c=s(0),u=s.n(c),p=s(16),l=s(10),f=s(1),j=function(t){return{isAuth:t.auth.isAuth}},h=function(t){var e=function(e){Object(i.a)(c,e);var s=Object(o.a)(c);function c(){return Object(r.a)(this,c),s.apply(this,arguments)}return Object(n.a)(c,[{key:"render",value:function(){return this.props.isAuth?Object(f.jsx)(t,Object(a.a)({},this.props)):Object(f.jsx)(l.a,{to:"/login"})}}]),c}(u.a.Component);return Object(p.b)(j)(e)}},296:function(t,e,s){t.exports={posts:"MyPosts_posts__3tZ1c",formPost:"MyPosts_formPost__3MaxQ"}},297:function(t,e,s){t.exports={post:"Post_post__A0EJd"}},298:function(t,e,s){t.exports={profilePage:"ProfileInfo_profilePage__8Apdk",profileInfo:"ProfileInfo_profileInfo__2IJgv",profileName:"ProfileInfo_profileName__52BYI",contacts:"ProfileInfo_contacts__3y62P",file_upload:"ProfileInfo_file_upload__2OfPh"}},299:function(t,e,s){t.exports={profile:"Profile_profile__3dzvr"}},301:function(t,e,s){"use strict";s.r(e);var a=s(3),r=s(34),n=s(35),i=s(37),o=s(36),c=s(0),u=s.n(c),p=s(16),l=s(97),f=s(129),j=s(130),h=s(296),b=s.n(h),d=s(297),O=s.n(d),m=s(1),x=function(t){return Object(m.jsxs)("div",{className:O.a.post,children:[Object(m.jsx)("p",{children:t.message}),Object(m.jsx)("span",{children:t.publishedTime})]})},v=s(66),P=s(65),g=s(22),_=Object(v.a)(10),C=Object(j.a)({form:"myPosts"})((function(t){return Object(m.jsxs)("form",{className:b.a.form,onSubmit:t.handleSubmit,children:[Object(m.jsx)(f.a,{placeholder:"What happens?",name:"newPostText",component:P.b,validate:[v.b,_]}),Object(m.jsx)(g.a,{width:"20%",height:"40px",type:"submit",children:"Add post"})]})})),T=function(t){Object(i.a)(s,t);var e=Object(o.a)(s);function s(){return Object(r.a)(this,s),e.apply(this,arguments)}return Object(n.a)(s,[{key:"shouldComponentUpdate",value:function(t,e){return t!==this.props||e!==this.state}},{key:"render",value:function(){var t=this,e=this.props.PostsData.map((function(t){return Object(m.jsx)(x,{message:t.message,publishedTime:t.publishedTime},t.id)}));return Object(m.jsxs)("div",{className:b.a.posts,children:[Object(m.jsx)("div",{className:b.a.formPost,children:Object(m.jsx)(C,{onSubmit:function(e){t.props.addPostAC(e.newPostText)}})}),e]})}}]),s}(u.a.Component),y=Object(p.b)((function(t){return{PostsData:t.profilePage.PostsData}}),(function(t){return{addPostAC:function(e){t(Object(l.a)(e))}}}))(T),k=s(298),I=s.n(k),w=s(40),S=s(107),N=s(131),A=function(t){var e=Object(c.useState)(!1),s=Object(N.a)(e,2),a=s[0],r=s[1],n=Object(c.useState)(t.status),i=Object(N.a)(n,2),o=i[0],u=i[1];Object(c.useEffect)((function(){u(t.status)}),[t.status]);return Object(m.jsx)("div",{children:a?Object(m.jsx)("input",{onChange:function(t){u(t.currentTarget.value)},onBlur:function(){r(!1),t.updateStatusTC(o)},autoFocus:!0,value:o}):Object(m.jsx)("span",{onDoubleClick:function(){r(!0)},children:t.status||"======"})})},D=function(t){if(!t.profile)return Object(m.jsx)(w.a,{});return Object(m.jsxs)("div",{className:I.a.profilePage,children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("img",{src:null!=t.profile.photos.small?t.profile.photos.small:S.a}),Object(m.jsxs)("div",{className:I.a.profileInfo,children:[Object(m.jsx)("div",{className:I.a.profileName,children:t.profile.fullName}),Object(m.jsx)("div",{style:{marginTop:"-20px"},children:Object(m.jsx)(A,{status:t.status,updateStatusTC:t.updateStatusTC})})]})]}),t.isOwner&&Object(m.jsxs)("div",{className:I.a.file_upload,children:[Object(m.jsx)(g.a,{width:"150px",height:"30px",children:"Change photo"}),Object(m.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&t.savePhotoTC(e.target.files[0])}})]}),Object(m.jsxs)("div",{className:I.a.contacts,children:[Object(m.jsx)("h3",{children:"Contacts"}),Object(m.jsxs)("p",{children:["facebook: ",Object(m.jsx)("a",{href:"#",children:t.profile.contacts.facebook})]}),Object(m.jsxs)("p",{children:["website: ",Object(m.jsx)("a",{href:"#",children:t.profile.contacts.website})]}),Object(m.jsxs)("p",{children:["vk: ",Object(m.jsx)("a",{href:"#",children:t.profile.contacts.vk})]}),Object(m.jsxs)("p",{children:["twitter: ",Object(m.jsx)("a",{href:"#",children:t.profile.contacts.twitter})]}),Object(m.jsxs)("p",{children:["instagram: ",Object(m.jsx)("a",{href:"#",children:t.profile.contacts.instagram})]}),Object(m.jsxs)("p",{children:["youtube: ",Object(m.jsx)("a",{href:"#",children:t.profile.contacts.youtube})]}),Object(m.jsxs)("p",{children:["github: ",Object(m.jsx)("a",{href:"#",children:t.profile.contacts.github})]}),Object(m.jsxs)("p",{children:["mainLink: ",Object(m.jsx)("a",{href:"#",children:t.profile.contacts.mainLink})]})]})]})},J=s(299),M=s.n(J),U=function(t){return Object(m.jsxs)("div",{className:M.a.profile,children:[Object(m.jsx)(D,{savePhotoTC:t.savePhotoTC,isOwner:t.isOwner,profile:t.profile,status:t.status,updateStatusTC:t.updateStatusTC}),t.isOwner&&Object(m.jsx)(y,{})]})},z=s(10),B=s(11),E=s(294),L=function(t){Object(i.a)(s,t);var e=Object(o.a)(s);function s(){return Object(r.a)(this,s),e.apply(this,arguments)}return Object(n.a)(s,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.myUserId),this.props.getProfileTC(t),this.props.getStatusTC(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,s){this.props.match.params.userId!==t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(m.jsx)(U,Object(a.a)(Object(a.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatusTC:this.props.updateStatusTC,savePhoto:this.props.savePhotoTC}))}}]),s}(u.a.Component);e.default=Object(B.compose)(Object(p.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,myUserId:t.auth.userId}}),{getProfileTC:l.c,getStatusTC:l.d,updateStatusTC:l.f,savePhotoTC:l.e}),z.f,E.a)(L)}}]);
//# sourceMappingURL=3.20e026d5.chunk.js.map