(this["webpackJsonpreact-kabzda-1"]=this["webpackJsonpreact-kabzda-1"]||[]).push([[3],{305:function(e,t,c){"use strict";c.d(t,"a",(function(){return l}));var s=c(3),o=c(52),i=(c(0),c(8)),n=c(11),a=c(1),r=function(e){return{isAuth:e.auth.isAuth}};function l(e){return Object(i.b)(r)((function(t){var c=t.isAuth,i=Object(o.a)(t,["isAuth"]);return c?Object(a.jsx)(e,Object(s.a)({},i)):Object(a.jsx)(n.a,{to:"/login"})}))}},307:function(e,t,c){e.exports={profilePage:"ProfileInfo_profilePage__8Apdk",profileInfo:"ProfileInfo_profileInfo__2IJgv",profileName:"ProfileInfo_profileName__52BYI",profile:"ProfileInfo_profile__2LHtf",file_upload:"ProfileInfo_file_upload__2OfPh",profileFormFields:"ProfileInfo_profileFormFields__1DjQL"}},308:function(e,t,c){e.exports={profile:"Profile_profile__3dzvr"}},309:function(e,t,c){e.exports={posts:"MyPosts_posts__3tZ1c",formPost:"MyPosts_formPost__3MaxQ"}},310:function(e,t,c){e.exports={post:"Post_post__A0EJd"}},313:function(e,t,c){"use strict";c.r(t);var s=c(0),o=c.n(s),i=c(104),n=c(307),a=c.n(n),r=c(113),l=c(1),j=function(e){var t=e.status,c=e.updateStatus,o=Object(s.useState)(!1),n=Object(i.a)(o,2),a=n[0],r=n[1],j=Object(s.useState)(t),u=Object(i.a)(j,2),b=u[0],f=u[1];Object(s.useEffect)((function(){f(t)}),[t]);return Object(l.jsx)("div",{children:a?Object(l.jsx)("input",{onChange:function(e){f(e.currentTarget.value)},onBlur:function(){r(!1),c&&c(b)},autoFocus:!0,value:b}):Object(l.jsx)("span",{onDoubleClick:function(){r(!0)},children:t||"======"})})},u=c(20),b=c(135),f=c(32),d=Object(b.a)({form:"profileData"})((function(e){var t=e.handleSubmit,c=e.profile;return Object(l.jsxs)("form",{onSubmit:t,children:[Object(l.jsxs)("div",{className:a.a.profileFormFields,children:[Object(f.c)("full name","fullName",[],f.a),Object(f.c)("professional skills","lookingForAJobDescription",[],f.b),Object(f.c)("about me","aboutMe",[],f.b),Object(l.jsxs)("div",{style:{display:"flex",alignSelf:"flex-start",marginTop:"10px"},children:[Object(l.jsx)("span",{style:{opacity:".7",width:"300px"},children:"Looking for a job:"}),Object(f.c)(void 0,"lookingForAJob",[],f.a,{type:"checkbox"})]}),Object(l.jsxs)("div",{style:{alignSelf:"flex-start"},children:[Object(l.jsx)("h3",{children:"Contacts"}),Object.keys(c.contacts).map((function(e){return Object(f.c)(e,"contacts."+e,[],f.a,{key:e,style:{marginBottom:"5px"}})}))]})]}),Object(l.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:Object(l.jsx)(u.a,{width:"160px",height:"31px",children:"Save Change"})})]})})),p=function(e){var t=e.contactTitle,c=e.contactValue;return Object(l.jsx)("div",{children:Object(l.jsxs)("p",{children:[t,": ",Object(l.jsx)("b",{children:c})]})})},O=function(e){var t=e.profile;return Object(l.jsxs)("div",{children:[Object(l.jsxs)("p",{children:["Looking for a job: ",Object(l.jsx)("b",{style:{textTransform:"uppercase"},children:t.lookingForAJob?"Yes":"No"})]}),t.lookingForAJob&&Object(l.jsxs)("p",{children:["Professional skills: ",Object(l.jsx)("b",{children:t.lookingForAJobDescription})]}),Object(l.jsxs)("p",{children:["About me: ",Object(l.jsx)("b",{children:t.aboutMe})]}),Object(l.jsxs)("div",{style:{marginBottom:"-10px"},children:[Object(l.jsx)("h3",{children:"Contacts"}),Object.keys(t.contacts).map((function(e){return Object(l.jsx)(p,{contactTitle:e,contactValue:t.contacts[e]?t.contacts[e]:"==="},e)}))]})]})},h=c(43),x=function(e){var t=e.profile,c=e.status,o=e.isOwner,n=e.savePhoto,b=e.changeProfile,f=e.updateStatus,p=Object(s.useState)(!1),x=Object(i.a)(p,2),m=x[0],v=x[1];return t?Object(l.jsxs)("div",{className:a.a.profilePage,children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("img",{alt:"mainPhoto",src:null!=t.photos.small?t.photos.small:r.a}),Object(l.jsxs)("div",{className:a.a.profileInfo,children:[Object(l.jsx)("div",{className:a.a.profileName,children:t.fullName}),Object(l.jsx)("div",{style:{marginTop:"-20px"},children:Object(l.jsx)(j,{updateStatus:f,status:c})})]})]}),o&&Object(l.jsxs)("div",{style:{display:"flex"},children:[Object(l.jsxs)("div",{style:{marginRight:"10px"},className:a.a.file_upload,children:[Object(l.jsx)(u.a,{width:"150px",height:"30px",children:"Change photo"}),Object(l.jsx)("input",{type:"file",onChange:function(e){var t;(null===(t=e.target.files)||void 0===t?void 0:t.length)&&n(e.target.files[0])}})]}),!m&&Object(l.jsx)(u.a,{onClick:function(){v(!0)},width:"160px",height:"31px",children:"Edit profile"})]}),m?Object(l.jsx)(d,{onSubmit:function(e){b(e),v(!1)},initialValues:t,profile:t}):Object(l.jsx)(O,{profile:t})]}):Object(l.jsx)(h.a,{})},m=c(308),v=c.n(m),g=c(309),P=c.n(g),_=c(310),k=c.n(_),y=function(e){var t=e.message,c=e.publishedTime;return Object(l.jsxs)("div",{className:k.a.post,children:[Object(l.jsx)("p",{children:t}),Object(l.jsx)("span",{children:c})]})},N=c(8),w=c(54),S=Object(b.a)({form:"myPosts"})((function(e){var t=e.handleSubmit;return Object(l.jsxs)("form",{onSubmit:t,children:[Object(f.c)("What happens?","newPostText",[w.b],f.b),Object(l.jsx)(u.a,{width:"20%",height:"40px",children:"Add post"})]})})),A=c(48),C=o.a.memo((function(e){var t=e.addNewPost,c=Object(N.c)(),s=Object(N.d)((function(e){return e.profilePage.PostsData})).map((function(e){return Object(l.jsx)(y,{message:e.message,publishedTime:e.publishedTime},e.id)}));return Object(l.jsxs)("div",{className:P.a.posts,children:[Object(l.jsx)("div",{className:P.a.formPost,children:Object(l.jsx)(S,{onSubmit:function(e){t(e.newPostText),c(Object(A.a)("myPosts"))}})}),s]})})),I=function(e){var t=e.isOwner,c=e.profile,s=e.status,o=e.addNewPost,i=e.savePhoto,n=e.changeProfile,a=e.updateStatus;return c?Object(l.jsxs)("div",{className:v.a.profile,children:[Object(l.jsx)(x,{isOwner:t,profile:c,status:s,savePhoto:i,changeProfile:n,updateStatus:a}),t&&c&&Object(l.jsx)(C,{addNewPost:o})]}):Object(l.jsx)(h.a,{})},F=c(137),T=c(11),J=c(14),D=c(305);t.default=Object(J.compose)(T.h,D.a)((function(e){var t=e.match.params.userId,c=Object(N.d)((function(e){return e.profilePage.profile})),o=Object(N.d)((function(e){return e.profilePage.status})),i=Object(N.d)((function(e){return e.auth.userId})),n=Object(N.c)(),a=Object(s.useCallback)((function(){var e=t;e||(e=i),n(Object(F.c)(e)),n(Object(F.d)(e))}),[t,n,i]);Object(s.useEffect)((function(){a()}),[t,a]);var r=Object(s.useCallback)((function(e){n(F.a.addPost(e))}),[n]),j=Object(s.useCallback)((function(e){n(Object(F.e)(e))}),[n]),u=Object(s.useCallback)((function(e){n(Object(F.f)(e))}),[n]),b=Object(s.useCallback)((function(e){n(Object(F.g)(e))}),[n]);return Object(l.jsx)(I,{isOwner:!t,profile:c,status:o,addNewPost:r,savePhoto:j,changeProfile:u,updateStatus:b})}))}}]);
//# sourceMappingURL=3.7a83ebe5.chunk.js.map